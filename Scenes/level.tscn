[gd_scene load_steps=7 format=3 uid="uid://dg4fnd0lydoit"]

[ext_resource type="Script" uid="uid://cr5xu4kagjcec" path="res://Scripts/PlayerScript.gd" id="1_6phgx"]
[ext_resource type="Texture2D" uid="uid://dqgmrvc6gxgo4" path="res://Textures/player.png" id="1_tumq0"]
[ext_resource type="Texture2D" uid="uid://bgrytuceaec2j" path="res://Textures/enemy 1.png" id="2_k5f4k"]
[ext_resource type="Script" uid="uid://dnt77miv7gun3" path="res://Scripts/Enemy1Script.gd" id="3_81xng"]
[ext_resource type="Script" uid="uid://bswyl63jrj7lh" path="res://Scripts/HealthScript.gd" id="5_wqkje"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6phgx"]
size = Vector2(9000, 200)

[node name="level" type="Node2D"]

[node name="player" type="CharacterBody2D" parent="."]
position = Vector2(256, 262)
collision_mask = 58
motion_mode = 1
script = ExtResource("1_6phgx")

[node name="sprite" type="Sprite2D" parent="player"]
texture = ExtResource("1_tumq0")

[node name="laser timer" type="Timer" parent="player"]
process_callback = 0
wait_time = 0.25
one_shot = true

[node name="collider" type="CollisionPolygon2D" parent="player"]
visible = false
polygon = PackedVector2Array(16, 16, 4, -16, -4, -16, -16, 16)

[node name="hurtbox" type="Area2D" parent="player"]
collision_mask = 10

[node name="collider" type="CollisionPolygon2D" parent="player/hurtbox"]
visible = false
polygon = PackedVector2Array(16, 16, 4, -16, -4, -16, -16, 16)

[node name="vertical boundaries" type="StaticBody2D" parent="."]
visible = false
collision_layer = 16

[node name="top boundary" type="CollisionShape2D" parent="vertical boundaries"]
position = Vector2(256, -100)
shape = SubResource("RectangleShape2D_6phgx")

[node name="bottom boundary" type="CollisionShape2D" parent="vertical boundaries"]
position = Vector2(256, 388)
shape = SubResource("RectangleShape2D_6phgx")

[node name="horizontal boundaries" type="StaticBody2D" parent="."]
visible = false
collision_layer = 32
collision_mask = 21

[node name="left boundary" type="CollisionShape2D" parent="horizontal boundaries"]
position = Vector2(-100, 144)
rotation = 1.5708
shape = SubResource("RectangleShape2D_6phgx")

[node name="right boundary" type="CollisionShape2D" parent="horizontal boundaries"]
position = Vector2(612, 144)
rotation = 1.5708
shape = SubResource("RectangleShape2D_6phgx")

[node name="enemy1" type="CharacterBody2D" parent="."]
position = Vector2(244, 26)
motion_mode = 1
script = ExtResource("3_81xng")

[node name="sprite" type="Sprite2D" parent="enemy1"]
texture = ExtResource("2_k5f4k")

[node name="healthnode" type="Node" parent="enemy1"]
script = ExtResource("5_wqkje")
team = 1

[node name="hitbox" type="Area2D" parent="enemy1"]
collision_layer = 8

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="enemy1/hitbox"]
visible = false
polygon = PackedVector2Array(12, -29, 15, -9, 26, 13, 13, 28, -13, 28, -26, 13, -15, -9, -12, -29)

[node name="hurtbox" type="Area2D" parent="enemy1"]
collision_layer = 2
collision_mask = 4

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="enemy1/hurtbox"]
visible = false
polygon = PackedVector2Array(12, -29, 15, -9, 26, 13, 13, 28, -13, 28, -26, 13, -15, -9, -12, -29)

[connection signal="died" from="enemy1/healthnode" to="enemy1" method="_on_healthnode_died"]
[connection signal="area_entered" from="enemy1/hitbox" to="enemy1" method="_on_hitbox_area_entered"]
[connection signal="area_entered" from="enemy1/hurtbox" to="enemy1/healthnode" method="hurtbox_hit"]
